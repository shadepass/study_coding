# 데이터 전처리
수집한 데이터를 분석하고 AI 모델링을 위하여 데이터를 정제하고 다듬는 작업

## 데이터 탐색하기
어떤 분포? 어떤 특징? 확인하는 단계

1. head(), tail() => 육안으로 확인
2. dscribe() => 수치 데이터에 대한 분포 확인
3. info() => 컬럼 수 데이터 타입 등 확인하여 정상적 로드 확인

## 결측치 처리하기
Missing Value
N/A <=> Null <=> NaN

> 0은 결측치가 아님, 숫자 0이라는 값이 들어있기 때문에

데이터를 분석하는데 반드시 처리해야하는 값

### 결측치 처리 특징
1. 실무자의 견해가 많이 반영되는 단계
2. 시간이 많이 투자되어야함
3. 결측치를 제거하는 것은 가장 쉽게 처리할 수 있는 방법 → 막대한 데이터 손실 동반
4. 결측치를 단순 대체할 경우, 데이터 편항(bias)이 생길 수 있음

### 결측치를 어떻게 처리
1. 제거하기: Listwise, Pairwise
  - ListWise: 결측치가 존재하는 전체 행 삭제
  - Pairwise: 모든 변수가 결측치인 경우 해당 행 삭제, 결측값이 있는 변수는 향후 무시됨 

2. 채우기: 값 대체하기, 예측하기
2.1. 대체하기
 - 평균화 값으로 대체(평균, 중앙값, 최빈값 등)
 - 범주형일 때는 최빈값으로 설정
 - 연속형일 떄는: 평균값/ 중간값
> DataFrame명.fillna('standard'), 결측치를 지정한 값으로 채우는 메소드
> Dataframe명.interpolate(), 결측치를 같은 간격으로 채우는 메소드
> Dataframe명.dropna(): 결측치가 있는 레코드 제거
> Dataframe명.dropna(how = "all"): pairwise 기법

2.2. 예측하기: 결측치를 상관관계 등을 예측하여 대체, 상관관계나 예측모델을 사용하여 채움

## 이상치 처리하기
### 어떻게 확인하죠
특정추세를 크게 벗어나거나 중앙값을 크게 벗어난 데이터를 확인하는 등 시각화를 통해서 확인하기

> 3사분기 - 1사분기 = IQR
> Lower/upperfense = 1Q - (1.5*IQR) / 3Q+ (1.5*IQR)  

이상치 처리: 삭제, 대치, 스케일링

## Feature Engineering
모델 정확도를 높이기 위해서 주어진 데이터를 잘 표현할 수 있는 features로 변형시키는 과정이며 데이터의 도멩니 지식을 활용하여 featrue를 만드는 과정

feature = 각 데이터의 특징(컬럼이랑 유사하다고 생각하면 됨)

### 어떻게 하나요
1. Binning
연속형 변수를 범주형 변수로 만드느 방법  
연속형 변수를 적절히 그룹을 지어주면 데이터를 이해하기 더 쉬움

Cut와 qcut 방법: 원하는 길이로 구간 나누기 / 동일 개수로 구간 나누기


2. Scaling
숫자데이터간의 상대적 크기 차이를 제거하는 방법

StandardScaler()  
각 특성의 평균을 0, 분산을 1로 스켕일링 → 정규분포

RobustScaler()  
중간 값, 사분위 값 사용

MinMaxScaler()  
각 특성이 0과 1사이에 위치하도록 스케일링  
분류보다 회귀에 유용

MaxAbsScaler()  
각 특성의 절대값이 0과 1사이가 되도록 스케일링

3. Label Encoding
변주형 변수의 문자열 값을 숫자로 매핑  
컴퓨터가 잘 이해하는 숫자로 변환

4. One Hot Encoding  
하나의 데이터만 1, 나머지는 0으로 마늘어주는 방법  
라벨 인코딩을 했을 때 숫자간의 관계가 생길 수 있음(red green → 1, 2)

pd.get_dummies 함수 활용해서 구현 가능

5. 날짜 데이터 변형
시계형 데이터에서 날짜가 지날 수록 방문객이 늘어난다는 데이터가 있을때, 추세를 더 많은 데이터를 얻기 위해서 변형 수행

요일, 주말여부 등 Column 추가

문자열 날짜 데이터를 숫자형 날짜로 변환 필요: pd.to_datetime  
pd.to_datetime(d1['일자'])  
d1['일자'].dt.dayofweek → 0~7, 요일정보 가져옴  

6. PCA 차원 축소
IRIS 붓꽃 데이터는 4가지 데이터를 가지고 있는데, 4개의 변수(컬럼)을 한번에 그래프로 표현하는건 매우 어렵

3차원 넘는 데이터를 차원 축소해서 사람이 이해하기 쉽도록 변형 필요
→ 주성분별 원본 데이터의 변동성을 얼마나 반영된쓴지 보여줌




